# Crypto Exchange API (Peanut.trade)

**Peanut.trade** – це API-сервіс для агрегування даних з криптобірж. Він допомагає знайти найвигідніший курс обміну криптовалют та отримати поточні котирування з різних бірж.

## Як це працює?

Проект має два основних ендпоінти:

1. **/estimate**  
   Цей ендпоінт визначає, на якій біржі курс обміну є найкращим.  
   **Як користуватися:**  
   - Ви надсилаєте запит із сумою обміну, валютою, яку хочете обміняти (inputCurrency), та валютою, яку бажаєте отримати (outputCurrency).  
   - API повертає назву біржі та суму, яку отримаєте після обміну.
   
   **Приклад:**  
   Якщо курс BTC/USDT на Binance – 11000, а на KuCoin – 10000, при запиті:
   ```json
   {
     "inputAmount": 0.5,
     "inputCurrency": "BTC",
     "outputCurrency": "USDT"
   }
ви отримаєте відповідь:

json
Копировать
{
  "exchangeName": "binance",
  "outputAmount": 5500
}
/getRates
Цей ендпоінт повертає котирування для заданої пари валют із усіх підтримуваних бірж.
Як користуватися:
Ви надсилаєте запит із базовою валютою (baseCurrency) та валютою котирування (quoteCurrency).
API повертає список бірж з відповідними курсами.
Приклад:
Якщо на Binance 1 BTC = 10 ETH, а на KuCoin 1 BTC = 8 ETH, при запиті:
json
Копировать
{
  "baseCurrency": "BTC",
  "quoteCurrency": "ETH"
}
відповідь може виглядати так:
json
Копировать
[
  { "exchangeName": "binance", "rate": 10 },
  { "exchangeName": "kucoin", "rate": 8 },
  { "exchangeName": "gate", "rate": ... },
  { "exchangeName": "uniswap", "rate": ... },
  { "exchangeName": "raydium", "rate": ... }
]
Примітка: Для централізованих бірж (Binance, KuCoin, Gate.io) ціни визначаються за останнім трейдом. Для децентралізованих бірж (Uniswap та Raydium) наразі використовуються тестові значення (заглушки). Планується інтегрувати реальні дані через WebSockets або gRPC у майбутньому.

Як запустити програму
Клонувати репозиторій:

bash
Копировать
git clone https://github.com/your_username/crypto_exchange_api.git
cd crypto_exchange_api
Встановити залежності: Переконайтеся, що у вас встановлений Python 3.7+, а потім запустіть:

bash
Копировать
pip install -r requirements.txt
Запустити FastAPI сервер:

bash
Копировать
uvicorn app:app --reload
Сервер буде працювати за адресою: http://localhost:8000

Переглянути документацію API: Відкрийте браузер за адресою http://localhost:8000/docs – тут автоматично генерується документація Swagger.

Тестування веб-інтерфейсу: Відкрийте сторінку http://localhost:8000/static/index.html для відправки запитів через красивий інтерфейс.

Як додавати нові біржі та криптовалюти
Архітектура проєкту спроектована так, що швидке додавання нових бірж та криптовалют стає дуже простим. Для цього достатньо:

Додати новий клас для біржі:
В папці exchanges створіть файл (або використайте існуючу структуру) і реалізуйте клас, який наслідується від базового класу. Наприклад, якщо з’явиться нова централізована біржа, ви можете створити клас, який наслідується від CexExchange та використовує ccxt для отримання даних.

Оновити список бірж:
У файлі app.py додайте ініціалізацію нового класу та додайте об'єкт до списку exchanges.

Додаткові криптовалюти:
Оскільки методи отримання цін працюють динамічно, підтримка нових криптовалют не потребує значних змін, якщо API біржі вже підтримує потрібні пари.

Це означає, що якщо у вас з’явиться потреба інтегрувати нову біржу або додати нову криптовалюту, ви зможете зробити це, додавши лише декілька рядків коду, без переробки основного додатку.

Структура проєкту
csharp
Копировать
crypto_exchange_api/
├── app.py                  # Основний файл FastAPI додатку
├── exchanges/              # Модулі для роботи з біржами
│   ├── __init__.py         # Ініціалізація пакету
│   ├── base.py             # Базовий клас Exchange
│   ├── cex_exchange.py     # Клас CexExchange для централізованих бірж (на базі ccxt)
│   ├── binance.py          # Реалізація для Binance
│   ├── kucoin.py           # Реалізація для KuCoin
│   ├── gate.py             # Реалізація для Gate.io
│   ├── uniswap.py          # Реалізація для Uniswap (DEX) – заглушка
│   └── raydium.py          # Реалізація для Raydium (DEX) – заглушка
├── static/                 # Статичні файли (HTML, CSS, JS)
│   └── index.html          # Веб-інтерфейс для тестування API
├── requirements.txt        # Залежності проекту
└── README.md               # Цей файл
Зворотній зв'язок та подальший розвиток
Якщо у вас виникнуть запитання, пропозиції чи ідеї для покращення, будь ласка, відкрийте issue або зв’яжіться з автором.
У майбутньому планується:

Інтегрувати реальні дані для децентралізованих бірж (Uniswap, Raydium) через WebSockets/gRPC.
Додати підтримку нових бірж та криптовалют за допомогою простого розширення існуючої архітектури.